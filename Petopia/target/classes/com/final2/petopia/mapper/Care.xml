<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 

<mapper namespace="care">
<!-- [19-01-24. 수정 시작_hyunjae] -->
	<resultMap type="java.util.HashMap" id="getPet_infoListMap"> 
		<result property="PET_UID" 	       column="pet_UID" 		javaType="int" />
		<result property="FK_IDX" 	       column="fk_idx" 			javaType="int" />
		<result property="PET_NAME" 	   column="pet_name" 		javaType="String" />
		<result property="PET_TYPE" 	   column="pet_type" 		javaType="String" />
		<result property="PET_BIRTHDAY"    column="pet_birthday" 	javaType="String" />
		<result property="PET_SIZE" 	   column="pet_size" 		javaType="String" />
		<result property="PET_WEIGHT" 	   column="pet_weight" 		javaType="String" />
		<result property="PET_GENDER" 	   column="pet_gender" 		javaType="String" />
		<result property="PET_NEUTRAL" 	   column="pet_neutral" 	javaType="String" />
		<result property="MEDICAL_HISTORY" column="medical_history" javaType="String" />
		<result property="ALLERGY" 		   column="allergy" 		javaType="String" />
		<result property="PET_PROFILEIMG"  column="pet_profileimg"  javaType="String" />
	</resultMap>
	<select id="getPet_infoList" resultMap="getPet_infoListMap" parameterType="int">	
		select pet_UID, fk_idx, pet_name, pet_type, pet_birthday, pet_size, pet_weight, pet_gender, pet_neutral, medical_history, allergy, pet_profileimg
		from pet_info
		where fk_idx = #{fk_idx} and
		      pet_status in('1','2')
		order by pet_birthday asc
	</select>
<!-- [19-01-24. 수정 끝_hyunjae] -->
	<insert id="insertPet_info" parameterType="com.final2.petopia.model.PetVO">
		insert into pet_info(pet_UID, fk_idx, pet_name, pet_type, pet_birthday, pet_size, pet_weight, pet_gender, pet_neutral, medical_history, allergy, pet_profileimg)
		values(seq_pet_info_UID.nextval, #{fk_idx}, #{pet_name}, #{pet_type}, #{pet_birthday, jdbcType=VARCHAR}, #{pet_size, jdbcType=VARCHAR}, #{pet_weight, jdbcType=INTEGER}, #{pet_gender, jdbcType=INTEGER}, #{pet_neutral, jdbcType=INTEGER}, #{medical_history, jdbcType=VARCHAR}, #{allergy, jdbcType=VARCHAR}, #{pet_profileimg, jdbcType=VARCHAR})
	</insert>

</mapper>